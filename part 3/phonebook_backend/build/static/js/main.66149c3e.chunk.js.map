{"version":3,"sources":["Person.js","PersonList.js","Filter.js","AddNew.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleRemovePerson","name","number","className","onClick","window","confirm","id","PersonList","persons","map","uuidv4","Filter","handleSetSearchString","type","onChange","e","AddNew","props","onSubmit","addPerson","handleSetName","required","handleSetPhone","Notification","message","notifClass","baseUrl","axios","get","newObject","post","delete","App","useState","setPersons","searchString","setSearchString","newName","setNewName","newPhone","setNewPhone","initialPersons","setInitialPersons","errorMessage","setErrorMessage","successMessage","useEffect","personService","then","response","console","log","data","handleFilterPersonsSearch","preventDefault","filteredPersons","filter","includes","length","handleFilterPersons","target","value","event","personObject","returnedPerson","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66149c3e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ person, handleRemovePerson }) => {\r\n  const confirmAndRemove = (name) => {\r\n    const confirmRemoval = window.confirm(`Want to delete ${name}?`);\r\n    if (confirmRemoval) {\r\n      handleRemovePerson(person.id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <li>\r\n        {person.name} {person.number}\r\n        <button\r\n          className=\"del_btn\"\r\n          onClick={() => {\r\n            confirmAndRemove(person.name);\r\n          }}\r\n        >\r\n          Delete\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst PersonList = ({ persons, handleRemovePerson }) => {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {persons.map((person) => {\r\n          return (\r\n            <Person\r\n              person={person}\r\n              handleRemovePerson={handleRemovePerson}\r\n              key={uuidv4()}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","import React from \"react\";\r\nconst Filter = ({ handleSetSearchString }) => {\r\n  return (\r\n    <div>\r\n      <input type=\"text\" onChange={(e) => handleSetSearchString(e)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst AddNew = (props) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={(e) => props.addPerson(e)}>\r\n        <div>\r\n          name:\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => props.handleSetName(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          number:\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => props.handleSetPhone(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNew;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, notifClass }) => {\r\n  return (\r\n    <div className={notifClass}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n//add\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n};\r\n//edit\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nconst removePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  removePerson: removePerson,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport PersonList from \"./PersonList\";\nimport Filter from \"./Filter\";\nimport AddNew from \"./AddNew\";\nimport Notification from \"./Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searchString, setSearchString] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [initialPersons, setInitialPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      console.log(\"promise fulfilled\");\n      setPersons(response.data);\n      setInitialPersons(response.data);\n    });\n  }, []);\n\n  const handleSetPhone = (e) => {\n    setNewPhone(e.target.value);\n  };\n  const handleSetName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newPhone,\n    };\n    personService\n      .create(personObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        return persons;\n        setSuccessMessage(`${personObject.name} has been added`);\n        setNewPhone(\"\");\n        setNewName(\"\");\n      })\n      .catch((error) => {\n        setErrorMessage(`${personObject.name} already exists`);\n        console.log(error.response.data);\n      });\n  };\n\n  const handleSetSearchString = (e) => {\n    setSearchString(e.target.value);\n  };\n\n  const handleFilterPersons = (e) => {\n    e.preventDefault();\n    setPersons(initialPersons);\n    handleFilterPersonsSearch(e);\n  };\n\n  const handleFilterPersonsSearch = (e) => {\n    e.preventDefault();\n\n    const filteredPersons = initialPersons.filter((person) =>\n      person.name.includes(searchString)\n    );\n    setPersons(filteredPersons);\n  };\n\n  const handleRemovePerson = (id) => {\n    personService\n      .removePerson(id)\n      .then(() => setPersons(persons.filter((person) => person.id !== id)));\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {errorMessage.length > 0 ? (\n        <p>\n          <Notification notifClass=\"error\" message={errorMessage} />\n        </p>\n      ) : successMessage.length > 0 ? (\n        <p>\n          <Notification notifClass=\"success\" message={successMessage} />\n        </p>\n      ) : (\n        <p></p>\n      )}\n\n      <form onSubmit={(e) => handleFilterPersons(e)}>\n        <p>Filter shown with</p>\n        <Filter handleSetSearchString={handleSetSearchString} />\n      </form>\n\n      <h2>Add a New </h2>\n      <AddNew\n        addPerson={addPerson}\n        handleSetPhone={handleSetPhone}\n        handleSetName={handleSetName}\n      />\n      <h2>Numbers</h2>\n      <div>\n        <PersonList persons={persons} handleRemovePerson={handleRemovePerson} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}