{"version":3,"sources":["Person.js","PersonList.js","Filter.js","AddNew.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleRemovePerson","name","number","className","onClick","window","confirm","id","PersonList","persons","map","uuidv4","Filter","handleSetSearchString","type","onChange","e","AddNew","props","onSubmit","addPerson","value","newName","handleSetName","required","newNumber","handleSetPhone","Notification","message","notifClass","baseUrl","axios","get","newObject","post","delete","App","useState","setPersons","searchString","setSearchString","setNewName","newPhone","setNewPhone","initialPersons","setInitialPersons","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","then","response","console","log","data","handleFilterPersonsSearch","preventDefault","filteredPersons","filter","includes","length","handleFilterPersons","target","event","personObject","returnedPerson","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4c6d40c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ person, handleRemovePerson }) => {\r\n  const confirmAndRemove = (name) => {\r\n    const confirmRemoval = window.confirm(`Want to delete ${name}?`);\r\n    if (confirmRemoval) {\r\n      handleRemovePerson(person.id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <li>\r\n        {person.name} {person.number}\r\n        <button\r\n          className=\"del_btn\"\r\n          onClick={() => {\r\n            confirmAndRemove(person.name);\r\n          }}\r\n        >\r\n          Delete\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst PersonList = ({ persons, handleRemovePerson }) => {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {persons.map((person) => {\r\n          return (\r\n            <Person\r\n              person={person}\r\n              handleRemovePerson={handleRemovePerson}\r\n              key={uuidv4()}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","import React from \"react\";\r\nconst Filter = ({ handleSetSearchString }) => {\r\n  return (\r\n    <div>\r\n      <input type=\"text\" onChange={(e) => handleSetSearchString(e)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst AddNew = (props) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={(e) => props.addPerson(e)}>\r\n        <div>\r\n          name:\r\n          <input\r\n            type=\"text\"\r\n            value={props.newName}\r\n            onChange={(e) => props.handleSetName(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          number:\r\n          <input\r\n            type=\"text\"\r\n            value={props.newNumber}\r\n            onChange={(e) => props.handleSetPhone(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNew;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, notifClass }) => {\r\n  return (\r\n    <div className={notifClass}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n//add\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n};\r\n//edit\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nconst removePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  removePerson: removePerson,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport PersonList from \"./PersonList\";\nimport Filter from \"./Filter\";\nimport AddNew from \"./AddNew\";\nimport Notification from \"./Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searchString, setSearchString] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [initialPersons, setInitialPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      console.log(\"promise fulfilled\");\n      setPersons(response.data);\n      setInitialPersons(response.data);\n    });\n  }, [persons]);\n\n  const handleSetPhone = (e) => {\n    setNewPhone(e.target.value);\n  };\n  const handleSetName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newPhone,\n    };\n    personService\n      .create(personObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setPersons((persons) => [...persons, ...returnedPerson]);\n        setSuccessMessage(`${personObject.name} has been added`);\n        setNewPhone(\"\");\n        setNewName(\"\");\n      })\n      .catch((error) => {\n        setErrorMessage(`${personObject.name} already exists`);\n        console.log(error.response.data);\n      });\n  };\n\n  const handleSetSearchString = (e) => {\n    setSearchString(e.target.value);\n  };\n\n  const handleFilterPersons = (e) => {\n    e.preventDefault();\n    setPersons(initialPersons);\n    handleFilterPersonsSearch(e);\n  };\n\n  const handleFilterPersonsSearch = (e) => {\n    e.preventDefault();\n\n    const filteredPersons = initialPersons.filter((person) =>\n      person.name.includes(searchString)\n    );\n    setPersons(filteredPersons);\n  };\n\n  const handleRemovePerson = (id) => {\n    personService\n      .removePerson(id)\n      .then(() => setPersons(persons.filter((person) => person.id !== id)));\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {errorMessage.length > 0 ? (\n        <p>\n          <Notification notifClass=\"error\" message={errorMessage} />\n        </p>\n      ) : successMessage.length > 0 ? (\n        <p>\n          <Notification notifClass=\"success\" message={successMessage} />\n        </p>\n      ) : (\n        <p></p>\n      )}{\" \"}\n      <form onSubmit={(e) => handleFilterPersons(e)}>\n        <p>Filter shown with</p>\n        <Filter handleSetSearchString={handleSetSearchString} />\n      </form>\n      <h2>Add a New </h2>\n      <AddNew\n        addPerson={addPerson}\n        handleSetPhone={handleSetPhone}\n        handleSetName={handleSetName}\n      />\n      <h2>Numbers</h2>\n      <div>\n        <PersonList persons={persons} handleRemovePerson={handleRemovePerson} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}