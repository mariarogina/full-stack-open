(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(19),s=n.n(a),o=n(10),i=n(3),j=n(4),u=n.n(j),d=n(0),b=function(e){var t=e.person,n=e.handleRemovePerson;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("li",{children:[t.name," ",t.number,Object(d.jsx)("button",{className:"del_btn",onClick:function(){var e;e=t.name,window.confirm("Want to delete ".concat(e,"?"))&&n(t.id)},children:"Delete"})]})})},l=n(46),h=function(e){var t=e.persons,n=e.handleRemovePerson;return Object(d.jsx)("div",{children:Object(d.jsx)("ul",{children:t.map((function(e){return Object(d.jsx)(b,{person:e,handleRemovePerson:n},Object(l.a)())}))})})},O=function(e){var t=e.handleSetSearchString;return Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",onChange:function(e){return t(e)}})})},f=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{onSubmit:function(t){return e.handleSetPersons(t)},children:[Object(d.jsxs)("div",{children:["name:",Object(d.jsx)("input",{type:"text",onChange:function(t){return e.handleSetName(t)},required:!0})]}),Object(d.jsxs)("div",{children:["number:",Object(d.jsx)("input",{type:"text",onChange:function(t){return e.handleSetPhone(t)},required:!0})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})})},x=function(e){var t=e.message,n=e.notifClass;return Object(d.jsx)("div",{className:n,children:Object(d.jsx)("p",{children:t})})},m="/api/persons",p=function(){return u.a.get(m)},v=function(e){return u.a.post(m,e)},S=function(e){return u.a.delete("".concat(m,"/").concat(e))},g=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(i.a)(a,2),j=s[0],u=s[1],b=Object(c.useState)(""),l=Object(i.a)(b,2),m=l[0],g=l[1],P=Object(c.useState)(""),w=Object(i.a)(P,2),C=w[0],k=w[1],y=Object(c.useState)([]),N=Object(i.a)(y,2),D=N[0],R=N[1],F=Object(c.useState)(""),q=Object(i.a)(F,2),E=q[0],J=q[1],A=Object(c.useState)(""),B=Object(i.a)(A,2),I=B[0],M=B[1];Object(c.useEffect)((function(){p().then((function(e){console.log("promise fulfilled"),r(e.data),R(e.data)}))}),[]);var W=function(e){e.preventDefault();var t=D.filter((function(e){return e.name.includes(j)}));r(t)};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Phonebook"}),E.length>0?Object(d.jsx)("p",{children:Object(d.jsx)(x,{notifClass:"error",message:E})}):I.length>0?Object(d.jsx)("p",{children:Object(d.jsx)(x,{notifClass:"success",message:I})}):Object(d.jsx)("p",{})," ",Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),r(D),W(e)}(e)},children:[Object(d.jsx)("p",{children:"Filter shown with"}),Object(d.jsx)(O,{handleSetSearchString:function(e){u(e.target.value)}})]}),Object(d.jsx)("h2",{children:"Add a New "}),Object(d.jsx)(f,{addPerson:function(e){e.preventDefault();var t={name:m,number:C};v(t).then((function(e){r((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))})),M("".concat(t.name," has been added")),k(""),g("")})).catch((function(e){J("".concat(t.name," already exists")),console.log(e.response.data)}))},handleSetPhone:function(e){k(e.target.value)},handleSetName:function(e){g(e.target.value)}}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)("div",{children:Object(d.jsx)(h,{persons:n,handleRemovePerson:function(e){S(e).then((function(){return r(n.filter((function(t){return t.id!==e})))}))}})})]})};n(43);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.3225067a.chunk.js.map