{"version":3,"sources":["Person.js","PersonList.js","Filter.js","AddNew.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleRemovePerson","className","name","number","onClick","window","confirm","id","PersonList","persons","map","uuidv4","Filter","handleSetSearchString","type","onChange","e","AddNew","props","onSubmit","addPerson","handleSetName","required","handleSetPhone","Notification","message","notifClass","baseUrl","personService","getAll","axios","get","create","newObject","post","update","put","removePerson","delete","App","useState","setPersons","searchString","setSearchString","newName","setNewName","newPhone","setNewPhone","initialPersons","setInitialPersons","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","then","response","console","log","data","handleFilterPersonsSearch","preventDefault","filteredPersons","filter","includes","length","handleFilterPersons","target","value","event","personObject","concat","catch","error","nowError","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27fb0b62.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ person, handleRemovePerson }) => {\r\n  const confirmAndRemove = (name) => {\r\n    const confirmRemoval = window.confirm(`Want to delete ${name}?`);\r\n    if (confirmRemoval) {\r\n      handleRemovePerson(person.id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <li className=\"mb4 mt4\">\r\n        {person.name} {person.number}\r\n        <button\r\n          className=\"btn btn-danger btn-sm del_btn ml2 ms2 p-1\"\r\n          onClick={() => {\r\n            confirmAndRemove(person.name);\r\n          }}\r\n        >\r\n          Delete\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst PersonList = ({ persons, handleRemovePerson }) => {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {persons.map((person) => {\r\n          return (\r\n            <Person\r\n              person={person}\r\n              handleRemovePerson={handleRemovePerson}\r\n              key={uuidv4()}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","import React from \"react\";\r\nconst Filter = ({ handleSetSearchString }) => {\r\n  return (\r\n    <div>\r\n      <input type=\"text\" onChange={(e) => handleSetSearchString(e)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst AddNew = (props) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={(e) => props.addPerson(e)}>\r\n        <div>\r\n          name:\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => props.handleSetName(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          number:\r\n          <input\r\n            className=\"mb-2 mt-3\"\r\n            type=\"text\"\r\n            onChange={(e) => props.handleSetPhone(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <button className=\"btn btn-success btn-sm p-1\" type=\"submit\">\r\n            Add\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNew;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, notifClass }) => {\r\n  return (\r\n    <div className={notifClass}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n//add\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n};\r\n//edit\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nconst removePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst personService = {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  removePerson: removePerson,\r\n};\r\n\r\nexport default personService;\r\n","import React, { useState, useEffect } from \"react\";\nimport PersonList from \"./PersonList\";\nimport Filter from \"./Filter\";\nimport AddNew from \"./AddNew\";\nimport Notification from \"./Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searchString, setSearchString] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [initialPersons, setInitialPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      console.log(\"promise fulfilled\");\n      setPersons(response.data);\n      setInitialPersons(response.data);\n    });\n  }, []);\n\n  const handleSetPhone = (e) => {\n    setNewPhone(e.target.value);\n  };\n  const handleSetName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newPhone,\n    };\n    personService\n      .create(personObject)\n      .then((response) => {\n        setPersons(persons.concat(response.data));\n        setSuccessMessage(`${personObject.name} has been added`);\n        setNewPhone(\"\");\n        setNewName(\"\");\n        return persons;\n      })\n      .catch((error) => {\n        const nowError = error.response.data.error;\n        setErrorMessage(nowError);\n        console.log(errorMessage);\n      });\n  };\n\n  const handleSetSearchString = (e) => {\n    setSearchString(e.target.value);\n  };\n\n  const handleFilterPersons = (e) => {\n    e.preventDefault();\n    setPersons(initialPersons);\n    handleFilterPersonsSearch(e);\n  };\n\n  const handleFilterPersonsSearch = (e) => {\n    e.preventDefault();\n\n    const filteredPersons = initialPersons.filter((person) =>\n      person.name.includes(searchString)\n    );\n    setPersons(filteredPersons);\n  };\n\n  const handleRemovePerson = (id) => {\n    personService\n      .removePerson(id)\n      .then(() => setPersons(persons.filter((person) => person.id !== id)));\n  };\n\n  return (\n    <div className=\"p-5\">\n      <h2>Phonebook</h2>\n      {errorMessage?.length > 0 ? (\n        <p>\n          <Notification notifClass=\"error\" message={errorMessage} />\n        </p>\n      ) : successMessage?.length > 0 ? (\n        <p>\n          <Notification notifClass=\"success\" message={successMessage} />\n        </p>\n      ) : (\n        <p></p>\n      )}\n\n      <form onSubmit={(e) => handleFilterPersons(e)}>\n        <p>Filter shown with</p>\n        <Filter handleSetSearchString={handleSetSearchString} />\n      </form>\n\n      <h2>Add a New </h2>\n      <AddNew\n        addPerson={addPerson}\n        handleSetPhone={handleSetPhone}\n        handleSetName={handleSetName}\n      />\n      <h2>Numbers</h2>\n      <div>\n        <PersonList persons={persons} handleRemovePerson={handleRemovePerson} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}